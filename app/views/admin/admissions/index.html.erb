<div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
  <div>
    <h1 class="text-3xl font-bold text-stone-900">Admissions</h1>
    <p class="text-stone-500 text-sm mt-1">Manage pending and historical student admissions.</p>
  </div>
  <%= link_to new_admin_admission_path, class: "bg-teal-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-teal-700 transition shadow-lg shadow-teal-100 flex items-center gap-2" do %>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
    </svg>
    Add Admission
  <% end %>
</div>

<div class="bg-white rounded-[2rem] shadow-sm border border-stone-100 overflow-hidden">
  <table class="w-full text-left border-collapse">
    <thead>
      <tr class="bg-stone-50 border-b border-stone-100">
        <th class="p-5 text-xs font-bold uppercase tracking-wider text-stone-500">Student</th>
        <th class="p-5 text-xs font-bold uppercase tracking-wider text-stone-500">Admission No.</th>
        <th class="p-5 text-xs font-bold uppercase tracking-wider text-stone-500">Grade/Level</th>
        <th class="p-5 text-xs font-bold uppercase tracking-wider text-stone-500 text-right">Actions</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-stone-50">
      <% @admissions.each do |admission| %>
        <tr class="hover:bg-stone-50/50 transition-colors group">
          <td class="p-5">
            <div class="flex items-center gap-4">
              <div class="h-10 w-10 rounded-full bg-stone-100 overflow-hidden border border-stone-200">
                <% if admission.photo.attached? %>
                  <%= image_tag admission.photo, class: "h-full w-full object-cover" %>
                <% else %>
                  <div class="h-full w-full flex items-center justify-center text-stone-400">
                    <i class="fa-solid fa-user text-xs"></i>
                  </div>
                <% end %>
              </div>
              <div>
                <div class="font-bold text-stone-900"><%= admission.first_name %> <%= admission.last_name %></div>
                <div class="text-xs text-stone-500"><%= admission.gender %></div>
              </div>
            </div>
          </td>
          <td class="p-5 text-sm text-stone-600 font-medium">
            <%= admission.admission_number %>
          </td>
          <td class="p-5">
            <span class="px-3 py-1 rounded-full bg-amber-50 text-amber-700 text-xs font-bold border border-amber-100">
              <%= admission.level&.name || "N/A" %>
            </span>
          </td>
          <td class="p-5 text-right">
            <div class="flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
              <%= link_to "Edit", edit_admin_admission_path(admission), class: "p-2 hover:bg-white rounded-lg border border-transparent hover:border-stone-200 text-stone-600 transition shadow-sm" %>
              <%= link_to admin_admission_path(admission), data: { turbo_method: :delete, turbo_confirm: "Delete this admission?" }, class: "p-2 hover:bg-red-50 rounded-lg border border-transparent hover:border-red-100 text-red-600 transition shadow-sm" do %>
                <i class="fa-solid fa-trash-can"></i>
              <% end %>
            </div>
          </td>
        </tr>
      <% end %>
      
      <% if @admissions.empty? %>
        <tr>
          <td colspan="4" class="p-10 text-center text-stone-400 italic">
            No admissions found. Click "Add Admission" to get started.
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>